<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<div id="textDiv">
			<p id="text"></p>
			
		</div>
		<input type='text' id='wordInput'></input>
		<p id="guesses"></p>
		<button onclick=submit() id='submitBtn'>Submit</button>
		<script>
			var wordList = [
				"",
				"strain",
				"optical",
				"christen",
				"mitigate",
				"toll"
			]
			var s1 = '2022-02-17';
			s1 = new Date(s1.replace(/-/g, "/"));
			s2 = new Date();
			var days = s2.getTime() - s1.getTime();
			var time = parseInt(days / (1000 * 60 * 60 * 24));
			var Word = wordList[time % wordList.length];
			var chance = Word.length + 1;
		
			function init(){
				var text = document.getElementById("text");
				text.innerHTML = Word.length + " Letters";
				var guesses = document.getElementById("guesses");
				guesses.innerHTML = chance + " guesses left!";
			}
			
			function check(word){
				var guesses = document.getElementById("guesses");
				chance -= 1;
				if(word == Word){
					document.getElementById("wordInput").style.display = "none";
					document.getElementById("submitBtn").style.display = "none";
					return "Congratulations! The word is " + word + "!";
				}
				if(word.length != Word.length){
					return word + " contains " + word.length + " letters, rather than " + Word.length + " letters!";
				}
				else{
					var newguess = document.createElement('p');
					newguess.innerHTML = newguess;
					var result = '';
					for(var i=0; i<word.length; i++){
						if(Word[i] == word[i]){
							result += 'ðŸŸ©'; //green block
						}
						else if(Word.search(word[i]) == -1){
							result += 'â¬›'; //black block
						}
						else{
							result += 'ðŸŸ¨'; //yellow block
						}
						 
					}
				}
				
				guesses.innerHTML = chance + " guesses left!";
				if(chance == 0){
					document.getElementById("wordInput").style.display = "none";
					document.getElementById("submitBtn").style.display = "none";
					return "The word is " + Word + ". Game Over.";
				}
				return result;
			}
			
			function submit(){
				var _ = document.getElementById('textDiv');
				var text = document.getElementById('wordInput');
				var result = check(text.value);
				var newword = document.createElement('p')
				newword.innerHTML = text.value;
				_.appendChild(newword)
				text.value='';
				var newline = document.createElement('p')
				newline.innerHTML = result;
				_.appendChild(newline)
			}
			
			init();
			
		</script>
		
	</body>
</html>
